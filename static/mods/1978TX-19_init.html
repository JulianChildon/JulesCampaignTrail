e=campaignTrail_temp

var hasMusic = false;

RecReading=true

selectedTheme.text_col="white"

campaignTrail_temp.election_json = JSON.parse("[{\"model\": \"campaign_trail.election\", \"pk\": 15, \"fields\": {\"year\": 1978, \"summary\": \"<div style='margin-top: -0.75em;'><p>The elder statesman of West Texas, George H. Mahon, announced his intentions to retire early in 1977. With that, the nearly 40 years of service will now start a clean slate. Though with the region tilting to the GOP ever so continuously, a Democrat succeeding after Mahon might not be a complete safe bet.</p><p><ul><li>Kent Hance has a record of serving (roughly) West Texas as state senator, and needs to use that to his advantage while also using preference for one of the region's own in comparison to Bush.</li><li>George W. Bush needs to figure out a balance of appearing relatable while also burnishing his image, alongside talking policies to help West Texans such as inflation among other issues.</li></ul></p></div>\", \"image_url\": \"https://i.imgur.com/QFKNt4K.png\", \"winning_electoral_vote_number\": 0, \"advisor_url\": \"https://i.imgur.com/DAW3Rml.png\", \"recommended_reading\": \"<div style='overflow-y: scroll;height: 30em;'><h2>Additional Information</h2><p><a href=\\\"https://www.texasmonthly.com/news-politics/not-so-great-in-78/\\\" target=\\\"_blank\\\">Not So Great In '78</a> - Texas Monthly</p><p><a href=\\\"https://www.washingtonpost.com/wp-srv/politics/campaigns/wh2000/stories/bush072999.htm\\\" target=\\\"_blank\\\">Young Bush, a Political Natural, Revs Up</a> - Washington Post</p><p><a href=\\\"https://archive.nytimes.com/www.nytimes.com/library/politics/camp/072700wh-bush-lubbock.html\\\" target=\\\"_blank\\\">Learning How To Run: A West Texas Stumble</a> - New York Times</p><p><a href=\\\"https://fascinatingpolitics.com/2024/02/24/the-man-who-beat-bush-kent-hance/\\\" target=\\\"_blank\\\">The Man Who Beat George Bush: Kent Hance</a> - Fascinating Politics</p><p><a href=\\\"https://themoderatevoice.com/hance-beat-bush-for-congress-in-1978/\\\" target=\\\"_blank\\\">Kent Hance Beat Bush For Congress in 1978</a> - The Moderate Voice</p><p>a lot of other stuff was also used like newspapers, websites, and other stuff as well (i mightve forgotten a few >w<) :3</p><br><h2>Interesting Stuff</h2><p><a href=\\\"https://www.youtube.com/watch?v=bw5h6JdCkek&t=3s\\\" target=\\\"_blank\\\">George Bush for Congress campaign film</a></p><p><a href=\\\"https://www.youtube.com/watch?v=HLoGwB9Isb0\\\" target=\\\"_blank\\\">George Bush for Congress on the campaign trail</a></p><p><a href=\\\"https://www.youtube.com/watch?v=W8sYWSFVQYM\\\" target=\\\"_blank\\\">Campaigning, Comedy, and Connections: Kent Hance's Journey in Politics</a></p><p><a href=\\\"https://www.govtrack.us/congress/members/kent_hance/405026\\\" target=\\\"_blank\\\">Kent Hance GovTrack</a></p><br><img src='https://i.imgur.com/9R2jyDg.png' width='260px'><img src='https://i.imgur.com/Bw9EGxg.png' width='300px'><img src='https://i.imgur.com/FTqpCcy.png' width='330px'><img src='https://i.imgur.com/A0egGkW.png' width='200px'><img src='https://i.imgur.com/et6AaKS.png' width='180px'><img src='https://i.imgur.com/VUeCHuv.png' width='230px'><img src='https://i.imgur.com/rDefjal.png' width='210px'><img src='https://i.imgur.com/PlVK7Ei.png' width='230px'><img src='https://i.imgur.com/mbXOLyW.png' width='250px'><img src='https://i.imgur.com/fQhUDZk.png' width='200px'><img src='https://i.imgur.com/wscWDPL.png' width='300px'><img src='https://i.imgur.com/trCFEml.png' width='300px'><img src='https://i.imgur.com/7gfP0ZK.png' width='280px'><img src='https://i.imgur.com/Un49GJL.png' width='300px'><img src='https://i.imgur.com/YPRR5FQ.png' width='270px'><br><br><h2>Final Words</h2><p>hiiiiiiiiiiiiiiiiii if youre reading this then that means youve reached the end!!!!!!!!!!!!!</p><p>i sure do hope that you enjoyed playing this mod, i personally like to think of it as a massive improvement from the original ^_^</p><p>ofc this isnt a one-for-one recreation of the election, as i think thats nearly imposssible to do so. but i tried my best and i hope it shows!!!! >w<</p><p>i really tried making this much more better from the original, in pretty much all aspects. from the writing (maybe) to the gameplay, especially with the small cyoa aspects i tried putting into this mod, i like to think of this as a much better idea of what i originally wanted in the original mod :3</p><p>with the original mod just having george w. bushs side, and just 15 questions to now having 20 questions alongside a side with kent hance with 2 potential candidates to play. i personally like to think of this as a much better mod ^w^</p><p>with that being said, ive hoped you really enjoyed this mod >w<</p><br><h1 style=\\\"margin-top: 0.5em;\\\">For comments and concerns reach me through:</h1><h3><u>catboxxd</u> on Discord</h3><h3><u>u/CatBox_XD</u> on Reddit</h3><h3><u>@catboxxd.bsky.social</u> on Bluesky</h3><h3><u>@CatBoxXD</u> on Twitter</h3><br><img src='https://art.pixilart.com/12d77f8f5ab58fc.gif' width='250px'><p>credit to @pooreeze on <a href=\\\"https://es.pixilart.com/art/cat-dance-12d77f8f5ab58fc\\\" target=\\\"_blank\\\">PixilArt</a></p><br><br><br><br><br><h1>thank you so much for playing 1978TX-19!</h1><img src='https://i.imgur.com/7ixzEBY.png' width='175px'><h3>i hope you enjoyed it, i hope you liked it</h3><h3>and i hope that any mods i make in the future will have you interested possibly</h3><h3>no promises tho hehehehehehe >_< >_< >_< >_<</h3><br><br></div>\", \"has_visits\": 0, \"no_electoral_majority_image\": \"\"}}]");

campaignTrail_temp.candidate_json = JSON.parse("[{\"model\": \"campaign_trail.candidate\", \"pk\": 152, \"fields\": {\"first_name\": \"Texas\", \"last_name\": \"Democrats\", \"election\": 15, \"party\": \"Democratic\", \"state\": \"Statewide\", \"priority\": 1, \"description\": \"<div style='margin-top: -0.5em;'><li><b>Name: Texas Democrats</b></li><li><b>Gubernatorial Candidate: John Luke Hill <i>Attorney General of Texas (1973 - )</i></b></li><li><b>Senate Candidate: Robert Krueger <i>United States Representative of Texas's 21st District (1975 - )</i></b></li><p>The Democratic Party of Texas has, for as long as most people could remember, held a stranglehold on state politics. Though ever since Ike's taking of the state in '52 and '56, its grip on the state has been slowly losing its hold. Especially so with the first Republican senator to the state in John Tower. The party still holds immense influence within the state, but increasingly some elements want to chart a differing course from the conservative status quo. And they would say no more to Governor Briscoe and instead go with their new gubernatorial candidate John Luke Hill.</p><p>Mahon's retirement leaves some contemplation of whether it can fall into Republican hands, especially with last election's results showing the Republican candidate rival Mahon with a 9 point difference. Though it's safe to say, the district will choose one of it's own as opposed to picking a Yale boy. Right?</p><button onclick='hillimage()'>Governor</button>&nbsp;<button onclick='kruegerimage()'>Senate</button>&nbsp;<button onclick='wolffimage()'>TX-21</button>&nbsp;<button onclick='gammageimage()'>TX-22</button></div>\", \"color_hex\": \"#4a7bbd\", \"secondary_color_hex\": \"null\", \"is_active\": 1, \"image_url\": \"https://i.imgur.com/25AOhJV.png\", \"electoral_victory_message\": \"\", \"electoral_loss_message\": \"\", \"no_electoral_majority_message\": \"\", \"description_as_running_mate\": \"\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 153, \"fields\": {\"first_name\": \"Texas\", \"last_name\": \"Republicans\", \"election\": 15, \"party\": \"Republican\", \"state\": \"Statewide\", \"priority\": 2, \"description\": \"<div style='margin-top: -0.5em;'><li><b>Name: Texas Republicans</b></li><li><b>Gubernatorial Candidate: William Clements <i>Deputy Secretary of Defense (1973 - 1977)</i></b></li><li><b>Senate Candidate: John Tower <i>United States Senator (1961 - )</i></b></li><p>The Republican Party of Texas saw little statewide success before the 1940s, despite a number of attempts at getting support to be the main opposition in the state. It wouldn't be until the 1950s in where Ike ran for president that there was a rift in the making. Despite the \\\"old guard\\\" attempting to block out his delegates in Texas, the \\\"new wave\\\" of Republicans would win out in the end. Figures such as Bruce Alger and John Tower would begin to rise to national office alongside a small, but continuous, departure of conservative Democrats to their camp. With close attempts at the governor's office, gubernatorial candidate Bill Clements hopes to finally make history.</p><p>In the previous election, the party's candidate got within 9 points of the longtime representative. With that, many people within the party both in and out of state see a potential in flipping the district and will help accordingly. And with the region tilting to the Republican's hands, it might not totally be out of the question.</p><button onclick='clementsimage()'>Governor</button>&nbsp;<button onclick='towerimage()'>Senate</button>&nbsp;<button onclick='loefflerimage()'>TX-21</button>&nbsp;<button onclick='paulimage()'>TX-22</button></div>\", \"color_hex\": \"#bd4a4a\", \"secondary_color_hex\": \"null\", \"is_active\": 1, \"image_url\": \"https://i.imgur.com/1MxwqoZ.png\", \"electoral_victory_message\": \"\", \"electoral_loss_message\": \"\", \"no_electoral_majority_message\": \"\", \"description_as_running_mate\": \"\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 156, \"fields\": {\"first_name\": \"Kent\", \"last_name\": \"Hance\", \"election\": 15, \"party\": \"Democratic\", \"state\": \"Dimmitt, Texas\", \"priority\": 5, \"description\": \"\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"https://i.imgur.com/BxYs2dT.png\", \"electoral_victory_message\": \"\", \"electoral_loss_message\": \"\", \"no_electoral_majority_message\": \"\", \"description_as_running_mate\": \"<p>State Senator to Texas's 28th district, Kent Hance has served roughly 60% of West Texas with honor. Though with the West Texas statesman George H. Mahon retiring, it seems his prospects are much more than just state office. Federal office is what he seeks, and thats what he got despite a challenge from Morris Sheats. Now with the primary business done with, now its time to focus on the general election.</p><p>As state senator, Hance has particularly focused on agricultural issues and has received the support of many within the \\\"establishment\\\" part of the party. Despite that, it seems his opponent will be son to George Bush, George W. Bush. While his name will certainly be a benefit, Hance has a record he can show off alongside his roots within West Texas compared to Bush Jr.. </p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 159, \"fields\": {\"first_name\": \"George W.\", \"last_name\": \"Bush\", \"election\": 15, \"party\": \"Republican\", \"state\": \"Midland, Texas\", \"priority\": 8, \"description\": \"\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"https://i.imgur.com/AP4BNhD.png\", \"electoral_victory_message\": \"\", \"electoral_loss_message\": \"\", \"no_electoral_majority_message\": \"\", \"description_as_running_mate\": \"<p>Son to the decorated political office holder George Bush, George Walker Bush aims to run for office and succeed in doing so. This not being his first time running a campaign, with Edward Gurney in '68 and Winton Blount in '72. Though this time he's in it to win and has already proven so with winning the runoff primary against previous opponent to George H. Mahon, Jim Reese.</p><p>A businessman in the oil industry, Bush understands full well how much this inflation that West Texans are facing needs to end, and it doesn't hurt that he is directly related to a figure in national politics. Though his background as a boy raised in Connecticut and going to Yale might prove to be a problem, alongside problems that were addressed during the primary potentially cropping back up. If Bush is able to be percieved as relatable to West Texas, he just might have a shot.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 160, \"fields\": {\"first_name\": \"Jim\", \"last_name\": \"Reese\", \"election\": 15, \"party\": \"Republican\", \"state\": \"Odessa, Texas\", \"priority\": 12, \"description\": \"\", \"color_hex\": \"#FFFF00\", \"secondary_color_hex\": \"#FFFFC0\", \"is_active\": 0, \"image_url\": \"https://i.imgur.com/i7HWp6F.png\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"\", \"no_electoral_majority_message\": \"\", \"description_as_running_mate\": \"<p>A sportscaster, a stockbroker, and once the mayor to Odessa, Jim Reese has certainly cemented his place in Republican circles in the region. The Republican candidate in '76 and although he wasn't able to beat out Mahon, going unopposed to nearly being voted out by 9% is impressive. Heading into '78 and with Mahon retiring, now seems like the best opportunity to build off the foundation previously. It would be so if it weren't for George W. Bush, but eventually it seems the party would give him a majority avoiding a run-off and possibly losing to Bush.</p><p>Reese could retread old ground and the same talking points, but he might need to think of more clever ways of attaining support. His clear association with Ronald Reagan can be beneficial, though there certainly is bad blood with Bush from the primary. Whatever the case may be, Reese will need to provide a solid counter to Kent Hance while also speaking up his roots.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 161, \"fields\": {\"first_name\": \"Morris\", \"last_name\": \"Sheats\", \"election\": 15, \"party\": \"Democratic\", \"state\": \"Lubbock, Texas\", \"priority\": 12, \"description\": \"\", \"color_hex\": \"#FFFF00\", \"secondary_color_hex\": \"#FFFFC0\", \"is_active\": 0, \"image_url\": \"https://i.imgur.com/DcHBScD.png\", \"electoral_victory_message\": \"\", \"electoral_loss_message\": \"\", \"no_electoral_majority_message\": \"\", \"description_as_running_mate\": \"<p>Leading Trinity Church out of West Texas, Morris Sheats was given a call allegedly by God as Sheats says, to make a run for national office. Registering as a Democrat for better electoral success than a Republican, he would challenge State Senator Kent Hance in what he thought would be a formality of a primary. He was wrong and this would cost him dearly as the outsider evangelist heads into the general election.</p><p>While his support around West Texas is not to be doubted, numerous missteps during the primary against Hance might prove to hurt him. Alongside the fact that Hance might not even help him along with the \\\"establishment\\\" elements of the party. Though if his vocal support among the people of West Texas is to be seen, he might not even need them for the most part.</p>\", \"candidate_score\": 0.0}}]");

campaignTrail_temp.running_mate_json = JSON.parse("[{\"model\": \"campaign_trail.running_mate\", \"pk\": 47, \"fields\": {\"candidate\": 70, \"running_mate\": 76}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 56, \"fields\": {\"candidate\": 79, \"running_mate\": 89}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 76, \"fields\": {\"candidate\": 116, \"running_mate\": 120}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 81, \"fields\": {\"candidate\": 118, \"running_mate\": 125}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 66, \"fields\": {\"candidate\": 93, \"running_mate\": 103}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 82, \"fields\": {\"candidate\": 119, \"running_mate\": 126}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 97, \"fields\": {\"candidate\": 145, \"running_mate\": 151}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 96, \"fields\": {\"candidate\": 144, \"running_mate\": 150}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 46, \"fields\": {\"candidate\": 69, \"running_mate\": 73}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 67, \"fields\": {\"candidate\": 94, \"running_mate\": 104}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 207, \"fields\": {\"candidate\": 302, \"running_mate\": 311}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 205, \"fields\": {\"candidate\": 301, \"running_mate\": 309}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 200, \"fields\": {\"candidate\": 300, \"running_mate\": 304}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 7, \"fields\": {\"candidate\": 18, \"running_mate\": 38}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 8, \"fields\": {\"candidate\": 19, \"running_mate\": 39}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 74, \"fields\": {\"candidate\": 107, \"running_mate\": 114}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 161, \"fields\": {\"candidate\": 203, \"running_mate\": 215}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 160, \"fields\": {\"candidate\": 202, \"running_mate\": 214}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 208, \"fields\": {\"candidate\": 303, \"running_mate\": 312}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 116, \"fields\": {\"candidate\": 168, \"running_mate\": 178}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 57, \"fields\": {\"candidate\": 80, \"running_mate\": 90}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 115, \"fields\": {\"candidate\": 167, \"running_mate\": 177}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 1, \"fields\": {\"candidate\": 16, \"running_mate\": 30}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 87, \"fields\": {\"candidate\": 131, \"running_mate\": 135}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 94, \"fields\": {\"candidate\": 143, \"running_mate\": 148}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 89, \"fields\": {\"candidate\": 132, \"running_mate\": 137}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 155, \"fields\": {\"candidate\": 201, \"running_mate\": 209}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 3, \"fields\": {\"candidate\": 17, \"running_mate\": 31}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 92, \"fields\": {\"candidate\": 142, \"running_mate\": 146}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 48, \"fields\": {\"candidate\": 77, \"running_mate\": 81}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 22, \"fields\": {\"candidate\": 20, \"running_mate\": 45}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 41, \"fields\": {\"candidate\": 25, \"running_mate\": 62}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 68, \"fields\": {\"candidate\": 105, \"running_mate\": 108}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 26, \"fields\": {\"candidate\": 21, \"running_mate\": 49}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 77, \"fields\": {\"candidate\": 117, \"running_mate\": 121}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 33, \"fields\": {\"candidate\": 23, \"running_mate\": 55}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 150, \"fields\": {\"candidate\": 200, \"running_mate\": 204}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 37, \"fields\": {\"candidate\": 24, \"running_mate\": 58}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 52, \"fields\": {\"candidate\": 78, \"running_mate\": 85}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 45, \"fields\": {\"candidate\": 68, \"running_mate\": 72}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 44, \"fields\": {\"candidate\": 67, \"running_mate\": 71}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 18, \"fields\": {\"candidate\": 36, \"running_mate\": 18}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 101, \"fields\": {\"candidate\": 153, \"running_mate\": 159}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 62, \"fields\": {\"candidate\": 92, \"running_mate\": 99}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 71, \"fields\": {\"candidate\": 106, \"running_mate\": 111}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 98, \"fields\": {\"candidate\": 152, \"running_mate\": 156}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 13, \"fields\": {\"candidate\": 29, \"running_mate\": 27}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 12, \"fields\": {\"candidate\": 27, \"running_mate\": 29}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 58, \"fields\": {\"candidate\": 91, \"running_mate\": 95}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 63, \"fields\": {\"candidate\": 92, \"running_mate\": 100}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 83, \"fields\": {\"candidate\": 67, \"running_mate\": 127}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 107, \"fields\": {\"candidate\": 165, \"running_mate\": 169}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 111, \"fields\": {\"candidate\": 166, \"running_mate\": 173}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 85, \"fields\": {\"candidate\": 68, \"running_mate\": 129}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 59, \"fields\": {\"candidate\": 91, \"running_mate\": 96}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 15, \"fields\": {\"candidate\": 29, \"running_mate\": 40}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 60, \"fields\": {\"candidate\": 91, \"running_mate\": 97}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 108, \"fields\": {\"candidate\": 165, \"running_mate\": 170}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 109, \"fields\": {\"candidate\": 165, \"running_mate\": 171}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 112, \"fields\": {\"candidate\": 166, \"running_mate\": 174}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 113, \"fields\": {\"candidate\": 166, \"running_mate\": 175}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 73, \"fields\": {\"candidate\": 106, \"running_mate\": 113}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 10, \"fields\": {\"candidate\": 27, \"running_mate\": 40}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 53, \"fields\": {\"candidate\": 78, \"running_mate\": 86}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 110, \"fields\": {\"candidate\": 165, \"running_mate\": 172}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 34, \"fields\": {\"candidate\": 23, \"running_mate\": 44}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 9, \"fields\": {\"candidate\": 27, \"running_mate\": 33}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 69, \"fields\": {\"candidate\": 105, \"running_mate\": 109}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 19, \"fields\": {\"candidate\": 36, \"running_mate\": 41}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 20, \"fields\": {\"candidate\": 36, \"running_mate\": 42}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 151, \"fields\": {\"candidate\": 200, \"running_mate\": 205}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 16, \"fields\": {\"candidate\": 29, \"running_mate\": 33}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 49, \"fields\": {\"candidate\": 77, \"running_mate\": 82}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 93, \"fields\": {\"candidate\": 142, \"running_mate\": 147}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 72, \"fields\": {\"candidate\": 106, \"running_mate\": 112}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 55, \"fields\": {\"candidate\": 78, \"running_mate\": 88}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 54, \"fields\": {\"candidate\": 78, \"running_mate\": 87}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 84, \"fields\": {\"candidate\": 67, \"running_mate\": 128}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 61, \"fields\": {\"candidate\": 91, \"running_mate\": 98}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 78, \"fields\": {\"candidate\": 117, \"running_mate\": 122}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 43, \"fields\": {\"candidate\": 25, \"running_mate\": 64}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 42, \"fields\": {\"candidate\": 25, \"running_mate\": 63}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 40, \"fields\": {\"candidate\": 24, \"running_mate\": 61}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 39, \"fields\": {\"candidate\": 24, \"running_mate\": 60}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 86, \"fields\": {\"candidate\": 68, \"running_mate\": 130}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 38, \"fields\": {\"candidate\": 24, \"running_mate\": 59}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 95, \"fields\": {\"candidate\": 143, \"running_mate\": 149}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 30, \"fields\": {\"candidate\": 21, \"running_mate\": 51}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 28, \"fields\": {\"candidate\": 21, \"running_mate\": 50}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 24, \"fields\": {\"candidate\": 20, \"running_mate\": 47}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 17, \"fields\": {\"candidate\": 29, \"running_mate\": 31}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 11, \"fields\": {\"candidate\": 27, \"running_mate\": 31}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 79, \"fields\": {\"candidate\": 117, \"running_mate\": 123}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 80, \"fields\": {\"candidate\": 117, \"running_mate\": 124}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 90, \"fields\": {\"candidate\": 132, \"running_mate\": 138}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 4, \"fields\": {\"candidate\": 17, \"running_mate\": 32}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 2, \"fields\": {\"candidate\": 16, \"running_mate\": 34}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 25, \"fields\": {\"candidate\": 20, \"running_mate\": 48}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 23, \"fields\": {\"candidate\": 20, \"running_mate\": 46}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 36, \"fields\": {\"candidate\": 23, \"running_mate\": 57}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 88, \"fields\": {\"candidate\": 131, \"running_mate\": 136}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 70, \"fields\": {\"candidate\": 105, \"running_mate\": 110}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 152, \"fields\": {\"candidate\": 200, \"running_mate\": 206}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 153, \"fields\": {\"candidate\": 200, \"running_mate\": 207}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 154, \"fields\": {\"candidate\": 200, \"running_mate\": 208}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 157, \"fields\": {\"candidate\": 201, \"running_mate\": 211}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 159, \"fields\": {\"candidate\": 201, \"running_mate\": 213}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 64, \"fields\": {\"candidate\": 92, \"running_mate\": 101}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 6, \"fields\": {\"candidate\": 17, \"running_mate\": 37}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 5, \"fields\": {\"candidate\": 17, \"running_mate\": 33}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 35, \"fields\": {\"candidate\": 23, \"running_mate\": 56}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 91, \"fields\": {\"candidate\": 132, \"running_mate\": 139}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 21, \"fields\": {\"candidate\": 36, \"running_mate\": 43}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 50, \"fields\": {\"candidate\": 77, \"running_mate\": 83}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 32, \"fields\": {\"candidate\": 21, \"running_mate\": 53}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 31, \"fields\": {\"candidate\": 21, \"running_mate\": 52}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 158, \"fields\": {\"candidate\": 201, \"running_mate\": 212}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 156, \"fields\": {\"candidate\": 201, \"running_mate\": 210}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 75, \"fields\": {\"candidate\": 106, \"running_mate\": 115}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 65, \"fields\": {\"candidate\": 92, \"running_mate\": 102}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 51, \"fields\": {\"candidate\": 77, \"running_mate\": 84}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 201, \"fields\": {\"candidate\": 300, \"running_mate\": 305}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 210, \"fields\": {\"candidate\": 300, \"running_mate\": 314}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 209, \"fields\": {\"candidate\": 300, \"running_mate\": 313}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 202, \"fields\": {\"candidate\": 300, \"running_mate\": 306}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 203, \"fields\": {\"candidate\": 300, \"running_mate\": 307}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 204, \"fields\": {\"candidate\": 300, \"running_mate\": 308}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 206, \"fields\": {\"candidate\": 301, \"running_mate\": 310}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 500, \"fields\": {\"candidate\": 154, \"running_mate\": 160}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 501, \"fields\": {\"candidate\": 154, \"running_mate\": 161}}]");

campaignTrail_temp.opponents_default_json = JSON.parse("[{\"election\": 15, \"candidates\": [152, 153]}]");

campaignTrail_temp.opponents_weighted_json = JSON.parse("[{\"election\": 15, \"candidates\": [153, 152]}]");

campaignTrail_temp.difficulty_level_json = JSON.parse("[{\"model\": \"campaign_trail.difficulty_level\", \"pk\": 1, \"fields\": {\"name\": \"Cakewalk\", \"multiplier\": 1.2}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 2, \"fields\": {\"name\": \"Very Easy\", \"multiplier\": 1.12}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 3, \"fields\": {\"name\": \"Easy\", \"multiplier\": 1.06}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 4, \"fields\": {\"name\": \"Normal\", \"multiplier\": 0.97}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 5, \"fields\": {\"name\": \"Hard\", \"multiplier\": 0.93}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 6, \"fields\": {\"name\": \"Very Hard\", \"multiplier\": 0.87}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 7, \"fields\": {\"name\": \"Blowout\", \"multiplier\": 0.8}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 8, \"fields\": {\"name\": \"Impossible\", \"multiplier\": 0.75}}]");

campaignTrail_temp.global_parameter_json = JSON.parse("[{\"model\": \"campaign_trail.global_parameter\", \"pk\": 1, \"fields\": {\"vote_variable\": 1.125, \"max_swing\": 0.12, \"start_point\": 0.94, \"candidate_issue_weight\": 10.0, \"running_mate_issue_weight\": 3.0, \"issue_stance_1_max\": -0.71, \"issue_stance_2_max\": -0.3, \"issue_stance_3_max\": -0.125, \"issue_stance_4_max\": 0.125, \"issue_stance_5_max\": 0.3, \"issue_stance_6_max\": 0.71, \"global_variance\": 0.01, \"state_variance\": 0.005, \"question_count\": 20, \"default_map_color_hex\": \"#C9C9C9\", \"no_state_map_color_hex\": \"#999999\"}}]");

campaignTrail_temp.candidate_dropout_json = JSON.parse("[{\"model\": \"campaign_trail.candidate_dropout\", \"pk\": 1, \"fields\": {\"candidate\": 36, \"affected_candidate\": 18, \"probability\": 1.0}}]");

campaignTrail_temp.temp_election_list = [{"id": 15, "year": 1978, "is_premium": 0, "display_year": "1978TX-19"}];

campaignTrail_temp.show_premium = true;

campaignTrail_temp.premier_ab_test_version = -1;

e.credits = "<button onclick='e.creditsPage()'>CatBoxXD!</button>"

document.getElementById("header").src = "https://i.imgur.com/8NjdtfZ.png";
document.body.background = "https://i.imgur.com/CAYpHWT.jpeg";

document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;
$("#game_window")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_window;
nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#bf783d"
nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#7f7cde"

$(".container")[0].style.backgroundColor = "#44539c"
$("#game_window")[0].style.backgroundColor = "#7f7cde"
$(".footer a").css({"color":"#ff4797"});
$("#site_credits a").css({"color": "#ff4797"});
$("#site_credits p").css({"color": "#ff4797"});

quotes = [
  `"We don’t need Dad in this race. We don’t need anyone in this race but the people of this district."`,
  `"I want to assure you, this is not the first time I’ve been on a real farm."`,
  `"Today is the first time I’ve been on a real farm."`,
  `"That might be a good ad for Highland Park or Houston, but if a guy is jogging in Dimmitt, somebody is after him."`,
  `"In the Panhandle, if it’s Texas Tech versus Yale, Tech will beat Yale every time. That’s not even a close game."`,
  `"I thought people would appreciate a campaign that stayed positive and focused on the issues."`,
  `"I learned an important lesson. When someone attacks your integrity, you have to respond."`,
  `"We always had to carry a spit cup so he could spit out the tobacco before he saw the Methodist preachers."`,
  `"He had a wonderful education, and we used that against him."`,
  `"We have been attacked for where I was born, for who my family is, and where my money has come from. I don’t think that’s fair."`,
  `"He wasn't going to be out-Christianed or out-good-old-boyed again."`,
  `"It was my first confrontation with cheap-shot politics."`,
  `"When money starts coming in from New York, it makes me start to wonder a little bit about the other candidate."`,
  `"There's no such thing as being too closely aligned with the oil industry in West Texas."`,
  `"In his campaign in '78, I didn't get the feeling that he had the knack for it."`,
  `"The Northeast has been in direct conflict with us on oil and gas and agriculture."`,
  `"He was an arrogant rich kid, a spoiled brat."`,
  `"His weakness was that he wouldn't go for the jugular."`,
  `"He's a bright guy, and he picked up the issues and got better as time went on."`,
  ]

selQuote = quotes[Math.round(Math.random()*(quotes.length - 2))]
corrr = `<h2>Texas's 19th Congressional District</h2><font id="gothic" size="4" color="white"><em>` + selQuote + `</em></font>`

HistHexcolour=["#4a7bbd","#bd4a4a"];
HistName=[" Kent Hance"," George W. Bush"];
HistEV=["16","1"];
HistPV=["54,729","48,070"];
HistPVP=["53.24%","46.76%"];

campaignTrail_temp.modBoxTheme = {
  "header_color" : "#4839cc",
  "header_text_color" : "#ffffff",
  "description_text_color" : "#ffffff",
  "description_background_color" : "#8a7ddb",
  "main_color" : "#231982",
  "secondary_color" : "#8a7ddb",
  "ui_text_color": "#ffffff"
}

clementsimage = function() {
  const imageElement = document.querySelector('#candidate_image img');
    imageElement.setAttribute('src', 'https://i.imgur.com/1MxwqoZ.png');
}
towerimage = function() {
  const imageElement = document.querySelector('#candidate_image img');
    imageElement.setAttribute('src', 'https://i.imgur.com/ZLdyehk.png');
}
loefflerimage = function() {
  const imageElement = document.querySelector('#candidate_image img');
    imageElement.setAttribute('src', 'https://i.imgur.com/aQ36wGQ.png');
}
paulimage = function() {
  const imageElement = document.querySelector('#candidate_image img');
    imageElement.setAttribute('src', 'https://i.imgur.com/X5k39P1.png');
}
hillimage = function() {
  const imageElement = document.querySelector('#candidate_image img');
    imageElement.setAttribute('src', 'https://i.imgur.com/25AOhJV.png');
}
kruegerimage = function() {
  const imageElement = document.querySelector('#candidate_image img');
    imageElement.setAttribute('src', 'https://i.imgur.com/AoglCUO.png');
}
wolffimage = function() {
  const imageElement = document.querySelector('#candidate_image img');
    imageElement.setAttribute('src', 'https://i.imgur.com/wEONO4n.png');
}
gammageimage = function() {
  const imageElement = document.querySelector('#candidate_image img');
    imageElement.setAttribute('src', 'https://i.imgur.com/tujcc0F.png');
}

const customStyling = document.createElement("style");
  customStyling.innerHTML = `
  a {
      color: #ff4797;
  }
  #position-display,
  #volume-label,
  label {
      color: #000000;
  }
  #credits,
  #election_year_form h3,
  #game_options h3,
  #difficulty_level h3,
  #recommended_reading_box h1,
  #recommended_reading_box h2,
  #recommended_reading_box h3,
  #recommended_reading_box p {
      color: #ffffff;
  }
  #recommended_reading_box {
      background-color: #000000;
      border-color: #000000;
  }
  #candidate_form h3,
  #running_mate_form h3 {
      visibility: hidden;
  }
  #candidate_form h3::before {
      content: "Please select your party:";
      position: absolute;
      color: #ffffff;
      top: 10px;
      left: 0;
      height: 100%;
      width: 100%;
      visibility: visible;
  }
  #running_mate_form h3::before {
      content: "Please select your candidate:";
      position: absolute;
      color: #ffffff;
      top: 10px;
      left: 0;
      height: 100%;
      width: 100%;
      visibility: visible;
  }
  #candidate_summary ul li:nth-child(1),
  #candidate_summary ul li:nth-child(2),
  #candidate_summary ul li:nth-child(3) {
    display: none;
  }
  #candidate_id,
  #running_mate_id,
  .person_description_window,
  .person_button {
      z-index: 289;
      position:relative;
  }
  `;
document.head.appendChild(customStyling);

var changeGameDisp = (hide) => {
  disp = "";
  if (hide) {
    disp = "none";
  }
  document.getElementsByClassName("inner_window_w_desc")[0].style.display = disp
};

e.creditsPage = () => {
  credits_html = `
    <h2>Writing Credits</h2>
    <p><font color='#ff4797'>CatBoxXD</font></p>
    <h2>Coding Credits</h2>
    <p><font color='#ff4797'>CatBoxXD</font></p>
    <h2>Other Credits</h2>
    <p><font color='#d17834'>Decstar</font> / <font color='#55c272'>Max</font> - Soundtrack Format!!!!!</p>
    <p>2000N / <font color='#d17834'>Decstar</font> - Credits Page, & Quote & Title!!!!!</p>
    <p>1956 / <font color='#d17834'>Decstar</font> / <font color='#67d2db'>Astro</font> / <font color='#9f69d1'>cupojo396</font> - Mid-Mod VP Switcher!!!!!</p>
    <p>1996 End of History / <font color='#d17834'>Decstar</font> / <font color='#67d2db'>Astro</font> - Mid-Mod VP Switcher!!!!!</p>
    <p>2001 Australia / <font color='#d9cd50'>Killeritch</font> / <font color='#78e3b3'>SergeantAnderson</font> - Changing Summary Description!!!!!</p>
    <p>1965 Midnight / <font color='#ad9387'>Gardfeld</font> - End Result Prioritizing Popular Vote!!!!!</p>
    <p>1924 / <font color='#67d2db'>Astro</font> - Ending Format!!!!!</p>
    <h2>Music Credits</h2>
    <p>✨ Cats - The Living Tombstone ✨</p>
    <p>✨ Happy Termination - Patric Catani ✨</p>
    <p>✨ A New Day - Killing Joke ✨</p>
    <p>✨ Last Friday Night (T.G.I.F) - Katy Perry ✨</p>
    <p>✨ Just Dance - Lady Gaga ✨</p>
    <br>
    <img src='https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/3f71070e-6a8b-4d64-a893-a3291e9e6195/dez7uly-f360e5ad-c20c-43b9-afa6-cf846c4b8d03.gif?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcLzNmNzEwNzBlLTZhOGItNGQ2NC1hODkzLWEzMjkxZTllNjE5NVwvZGV6N3VseS1mMzYwZTVhZC1jMjBjLTQzYjktYWZhNi1jZjg0NmM0YjhkMDMuZ2lmIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.1UUqak7uwKFX65UtV2PeG3KIlL4EvPfzecRD5mh4Q0g' width='300px'>
    <p>credit to TamiTanookii on <a href="https://www.deviantart.com/tamitanookii/art/Cat-Dance-gif-905679286">DeviantArt</a></p>
    </div>
  `
  changeGameDisp(true);
  var spacer = document.createElement("amongusspacerthisisntarealelement");
  spacer.innerHTML = "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";
  document
    .getElementsByClassName("inner_window_w_desc")[0]
    .children[1].appendChild(spacer);
    changeGameDisp(true);
    var menuHeader = document.createElement("div");
    menuHeader.classList.add("inner_window_front");
    menuHeader.innerHTML = `<div style='margin-top: -1.25em;'><h1><img src='https://media.tenor.com/Joer8rXW-v8AAAAi/neko-cat.gif' width='65px'>✨<font id='Gothic' size='6' color='#ff4797'>1978TX-19 was made possible by:</font>✨<img src='https://media.tenor.com/Joer8rXW-v8AAAAi/neko-cat.gif' width='65px'></h1></div>`;
    menuHeader.id = "SOTUheader";
    menuHeader.style = "height: 50px;background-color:#000000";
    var newMenu = document.createElement("div");
    newMenu.classList.add("inner_window_front");
    newMenu.id = "SOTUmenu";
    newMenu.style = `height:300px;background-color:#000000;color:white;overflow-y: scroll;`;

    newMenu.innerHTML = credits_html;
    let z = document.getElementById("game_window");
    var backButton = document.createElement("button");
    backButton.style =
      "position: relative; bottom: -4px; left: -392px; width: 130px; height: 50px;font-size:20px;padding-top:5px;padding-left:8px";
    backButton.id = "backSOTUBtn";
    backButton.innerHTML = `<b>BACK</b>`;
    backButton.onclick = function () {
      document.getElementById("SOTUheader").remove();
      document.getElementById("SOTUmenu").remove();
      document.getElementById("backSOTUBtn").remove();
      changeGameDisp(false);
    };
    z.appendChild(menuHeader);
    z.appendChild(newMenu);
    z.appendChild(backButton);

}

let z = new MutationObserver((mutationsList, observer) => {
  let runningMateSummary = document.querySelector("#running_mate_summary");
  if (runningMateSummary) {
      $("#running_mate_id_button").click();
      observer.disconnect()
  }
});

z.observe(document, { subtree: true, childList: true });

$("#game_start").click((event) => {
  event.preventDefault();
  musicMode()  
})

// MUSIC MODE

musicMode = () => {
  // Initialise custom music

  $("#music_player")[0].children[0].style.display = "none"
  $("#music_player")[0].children[1].style.display = "none"

  document.getElementById("modLoadReveal").style.display = "none"
  document.getElementById("modloaddiv").style.display = "none"

  musicBox = document.getElementById("music_player")
  musicBox.style.display = ""

  var trackSel;
  e = campaignTrail_temp
  e.selectedSoundtrack = 0

  toTime = (seconds) => {
      var date = new Date(null);
      date.setSeconds(seconds);
      return date.toISOString().substr(11, 8);
  }

  generateTime = () => {
      // Get the audio element
      var audio = document.getElementById("campaigntrailmusic");

      timeTracker = document.createElement("div");
      timeTracker.style = `
text-align:left;
border-style:solid;
border-width:3px;
height:150px;
width:200px;
background-color:#96d0ff;
border-color:#c95189;
float:right;
padding: 10px;
`
      $("#trackSelParent")[0].prepend(timeTracker);
      $("#trackSelParent")[0].prepend(document.createElement("br"));

      // Create a new element to display the current position of the audio
      var positionDisplay = document.createElement("gg");
      positionDisplay.id = "position-display";

      // Create a new slider element to change the time
      var timeSlider = document.createElement("input");
      timeSlider.type = "range";
      timeSlider.min = 0;
      timeSlider.max = 1;
      timeSlider.step = 0.001;
      timeSlider.value = 0;
      timeSlider.style.width = "200px";
      timeSlider.id = "time-slider";

      var pausePlay = document.createElement("button");
      pausePlay.id = "position-display";
      pausePlay.innerHTML = "<b>Pause</b>"
      pausePlay.style.width = "100%";


      pausePlay.addEventListener("click", event => {
          event.preventDefault();
          updatePositionDisplay();
          let audio = document.getElementById("campaigntrailmusic");
          if (audio.paused) {
              audio.play();
              event.target.innerHTML = "<b>Pause</b>";
              return;
          }
          audio.pause();
          event.target.innerHTML = "<b>Play</b>";
          return;
      })

      var volumeLabel = document.createElement("gg");
      volumeLabel.id = "volume-label";
      volumeLabel.innerHTML = "<br><b>Volume: </b>"

      var volumeSlider = document.createElement("input");
      volumeSlider.type = "range";
      volumeSlider.min = 0;
      volumeSlider.max = 1;
      volumeSlider.step = 0.001;
      volumeSlider.value = 0;
      volumeSlider.style.width = "200px";
      volumeSlider.id = "volume-slider";

      volumeSlider.value = audio.volume;

      timeTracker.appendChild(pausePlay);
      timeTracker.appendChild(document.createElement("br"));
      timeTracker.appendChild(document.createElement("br"));
      timeTracker.appendChild(positionDisplay);
      timeTracker.appendChild(timeSlider);
      timeTracker.appendChild(volumeLabel);
      timeTracker.appendChild(volumeSlider);

      updatePositionDisplay();

      //for (let i = 0; i < 10; i++)
      //timeTracker.append(document.createElement("br"));


      // Function to update the position display
      function updatePositionDisplay() {
          positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
          timeSlider.value = audio.duration ? audio.currentTime / audio.duration : 0;
      }

      // Function to change the time of the audio
      function changeTime() {
          positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
          audio.currentTime = timeSlider.value * audio.duration;
      }

      updateVolume = event => {
          audio.volume = event.target.value;
      }

      // Update the position display and slider every second
      setInterval(updatePositionDisplay, 1000);

      // Listen for changes to the time slider and change the time of the audio
      timeSlider.addEventListener("input", changeTime);
      volumeSlider.addEventListener("input", updateVolume)
  }

  function newMusicPlayer() {
      trackSel = document.createElement("div");
      trackSel.id = "trackSelParent"
      let z = `<div id='trackSel' style="text-align:left;border-style:solid;border-width:3px;overflow-y: scroll;overflow-x: hidden;height:170px; width:400px;background-color:#96d0ff;border-color:#c95189;float:right;">`
      z += `<b><select id='selectSoundtrack'><option value='` + soundtracks[e.selectedSoundtrack].name + `'>` + soundtracks[e.selectedSoundtrack].name + "</option>"
      for (i in soundtracks) {
          if (soundtracks[e.selectedSoundtrack] != soundtracks[i]) {
              z += `<option value='` + soundtracks[i].name + `'>` + soundtracks[i].name + `</option>`
          }
      }
      z += `</select></b><br><br>`
          // <label><input type="radio" name="option" value="option1">Option 1</label><br>
      for (i in soundtracks[e.selectedSoundtrack].tracklist) {
          let a = soundtracks[e.selectedSoundtrack].tracklist[i]
          let b = `<label><input class="trackSelector" type="radio" name="trackSelector" value="` + i + `">` + a.name + `</label><br>`
          z += b
      }
      z += "</div><br><br>"
      trackSel.innerHTML = z

      // select correct song

      musicBox.appendChild(trackSel);
      Array.from(document.getElementById("trackSel").children).filter(f => {
          return f.tagName == "LABEL"
      }).map(f => f.children[0])[0].checked = true

      // set soundtrack changer

      soundtrackSelector = document.getElementById("selectSoundtrack")
      soundtrackSelector.onchange = function() {
          for (i in soundtracks) {
              if (soundtracks[i].name == soundtrackSelector.value) {
                  e.selectedSoundtrack = i
                  break
              }
          }
          document.getElementById("trackSelParent").remove()
          newMusicPlayer()
      }

      var matches = document.querySelectorAll('.trackSelector');

      for (match in matches) {
          matches[match].onchange = function() {
              audio = $("#campaigntrailmusic")[0];
              audio.src = soundtracks[e.selectedSoundtrack].tracklist[this.value].url
              audio.currentTime = 0
          }
      }

      musicBox.children[2].loop = false
      musicBox.children[2].src = soundtracks[e.selectedSoundtrack].tracklist[0].url

      musicBox.children[2].onended = function() {
          console.log("next track")
          let selected = Number(document.querySelector('input[name="trackSelector"]:checked').value);
          let newSel = clamp(selected + 1, soundtracks[e.selectedSoundtrack].tracklist.length - 1, 0)
          let buttons = Array.from(document.getElementById("trackSel").children).filter(f => {
                  return f.tagName == "LABEL"
              }).map(f => f.children[0])
              //let selectedIndex = buttons.map(f=>f.children[0]).map(f=>f.checked)
          buttons[newSel].click()
      }

      for (w = 0; w < 7; w++) {
          document.getElementById("trackSelParent").appendChild(document.createElement("br"))
      }

      generateTime();
  }

  clamp = function(a, max, min, overflow = true) {
      if (overflow) {
          return a > max ? min : a < min ? max : a;
      }
      return a > max ? max : a < min ? min : a;
  }


  // Track list
var soundtracks = {
      0: {
          name: "George Bush For The Congress",
          tracklist: [
            {
              "name": "George Bush For Congress (1978)",
              "url": "https://files.catbox.moe/cm0e5f.mp3"
            }
        ]
    },
      1: {
          name: "MUSIC MUSIC MUSIC OMG >w< >w< >w<",
          tracklist: [
            {
              "name": "Cats - The Living Tombstone",
              "url": "https://files.catbox.moe/1pibew.mp3"
            },
            {
              "name": "Happy Termination - Patric Catani",
              "url": "https://files.catbox.moe/wree1f.mp3"
            },
            {
              "name": "A New Day - Killing Joke",
              "url": "https://files.catbox.moe/t3707u.mp3"
            },
            {
              "name": "Last Friday Night (T.G.I.F) - Katy Perry",
              "url": "https://files.catbox.moe/i7ab5y.mp3"
            },
            {
              "name": "Just Dance - Lady Gaga",
              "url": "https://files.catbox.moe/r7y5ni.mp3"
            }
        ]
     }
  }

  // Set up new music player
  if (!hasMusic) {
      newMusicPlayer()
      hasMusic = true;
  }
}

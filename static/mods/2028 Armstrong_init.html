campaignTrail_temp.global_parameter_json = [
    {
        "model": "campaign_trail.global_parameter",
        "pk": 1,
        "fields": {
            "vote_variable": 1.125,
            "max_swing": 0.12,
            "start_point": 0.94,
            "candidate_issue_weight": 10,
            "running_mate_issue_weight": 3,
            "issue_stance_1_max": -0.71,
            "issue_stance_2_max": -0.3,
            "issue_stance_3_max": -0.125,
            "issue_stance_4_max": 0.125,
            "issue_stance_5_max": 0.3,
            "issue_stance_6_max": 0.71,
            "global_variance": 0.01,
            "state_variance": 0.005,
            "question_count": 25,
            "default_map_color_hex": "#C9C9C9",
            "no_state_map_color_hex": "#999999"
        }
    }
]

campaignTrail_temp.election_json = [
    {
        "model": "campaign_trail.election",
        "pk": 20,
        "fields": {
            "year": 2026,
            "display_year": "2028 Armstrong",
            "summary": "Billie Joe Armstrong and JD Vance face off in a heated 2028 election campaign. While he is well known amongst the music world, Armstrong has never served in an elected office. JD Vance is the current incumbent president after the assassination of Donald Trump in 2027. Both candidates experience a lot of baggage along the campaign trail. Many worry about Armstrong's lack of political expertise and admittedly anti-American music history, while Vance is seen as a huge threat to the future of democracy in this country, with the economy failing to live up to the country's expectations. Will Armstrong pull off a shocking victory and make Vance a one-term president, or will Vance win reelection and continue with Trump's legacy?",
            "image_url": "https://i.imgur.com/tydkgUT.png",
            "winning_electoral_vote_number": 270,
            "advisor_url": "https://www.jetsimon.com/public/static/images/dillon-stepien.jpg",
            "recommended_reading": "<ul>\n<li><a href=https://www.chicagotribune.com/opinion/editorials/ct-edit-chicago-tribune-biden-endorsement-20200925-lnyxsb5qvrftnjjmj3rnzj33jy-story.html>Our Case For Joe Biden</a></li>\n<li><a href=https://nationalinterest.org/feature/case-trump-166808>The Case For Trump</a></li>\n<li><a href=https://www.npr.org/2020/11/18/935730100/how-biden-won-ramping-up-the-base-and-expanding-margins-in-the-suburbs>How Biden Won: Ramping Up The Base And Expanding Margins In The Suburbs</a></li>\n<li><a href=https://www.prospectmagazine.co.uk/politics/donald-trump-joe-biden-us-election-almost-win-votes-concede>Why Did Trump Almost Win?</a></li>\n<li><a href=https://www.hoover.org/research/no-evidence-voter-fraud-guide-statistical-claims-about-2020-election>No Evidence For Voter Fraud: A Guide To Statistical Claims About The 2020 Election</a></li>\n</ul>",
            "has_visits": 1,
            "no_electoral_majority_image": "../static/images/2022-no-majority.jpg"
        }
    }
]

campaignTrail_temp.temp_election_list = [
    {
        "id": 20,
        "year": 2026,
        "is_premium": 0,
        "display_year": "2028 Armstrong"
    }
]

campaignTrail_temp.credits = "Enigma"

campaignTrail_temp.candidate_json = [
    {
        "model": "campaign_trail.candidate",
        "pk": 200,
        "fields": {
            "first_name": "Billie Joe",
            "last_name": "Armstrong",
            "election": 20,
            "party": "Democrat",
            "state": "California",
            "priority": 1,
            "description": "After Kamala Harris's crushing defeat in the 2024 presidential election, Democrats have vowed to use a very different strategy heading into the 2028 election. This time, by nominating a political outsider of their own. Billie Joe Armstrong, the frontman of the American punk rock band Green Day, shocked the political nation when he won the Democratic Party's nomination for president of the United States. A very outspoken critic of Bush and Trump, Armstrong wants to unite all factions of the United States in order to stop fascism from taking over this country. Will Billie Joe Armstrong's surprising presidential campaign be just what the Democrats need to make it over the finish line and perhaps turn out the youth vote, or will this campaign solidify yet another major blunder from the DNC?",
            "color_hex": "#0000ff",
            "secondary_color_hex": null,
            "is_active": 1,
            "image_url": "https://img.estadao.com.br/resources/jpg/3/5/1476708166153.jpg",
            "electoral_victory_message": "<h3>Congratulations! You have won the 2028 election.</h3><p>An election widely considered by many analysts to be one of the most shocking elections of all time, you managed to pull off a very successful and surprising victory this year, becoming this country's first openly LGBTQ+ president in history. Your campaign inspired millions of youth voters to turn out against the Republican Party, who stole our beautiful democracy four years ago. We hope you can pass your progressive agenda as best as you can, and maybe make America a little less idiotic. The American people are with you!</p>",
            "electoral_loss_message": "<h3>Sorry! You have lost the 2028 election.</h3><p>Fascism won out once again. Many analysts are starting to worry about the prospects of having a red trifecta in congress and what this may mean for the future of this country and democracy as we know it. Some analysts are even beginning to question the integrity of the results, with some even calling it a rigged election orchestrated by Russia. Other analysts simply just think your campaign wasn't very good. Whatever the case, Democrats seem to be in major trouble, and some rumors are floating around that several progressives are ditching the party entirely in favor of forming their own political party to replace the DNC. Only time will tell.</p>",
            "no_electoral_majority_message": "<h3>Sorry! You have lost the 2028 election.</h3><p>In spite of the 269-269 tie in the electoral college, Republicans control a majority of state delegations in the House of Representatives. After an election in which many of your supporters claimed democracy itself was at stake, what happens now? Perhaps the party will need to go in a completely different direction in 2028.</p",
            "description_as_running_mate": null,
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 1002,
        "fields": {
            "first_name": "Gretchen",
            "last_name": "Whitmer",
            "election": 20,
            "party": "Democrat",
            "state": "Michigan",
            "priority": 1,
            "description": "<p>Put description here</p>",
            "color_hex": "#0000ff",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "https://www.detroitchamber.com/wp-content/uploads/2021/06/Gov.-Whitmer-e1657896595574-960x1029.jpg",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": "<p>Gretchen Whitmer is a lawyer and politician serving since 2019 as the 49th governor of Michigan. A member of the Democratic Party, she served in the Michigan House of Representatives from 2001 to 2006 and in the Michigan Senate from 2006 to 2015. Whitmer could appeal to progressive voters while also convincing undecideds to turnout for her in that state.</p>",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 201,
        "fields": {
            "first_name": "JD",
            "last_name": "Vance",
            "election": 20,
            "party": "Republican",
            "state": "Ohio",
            "priority": 1,
            "description": "ùó°ùó¢ùóß ùó£ùóüùóîùó¨ùóîùóïùóüùóò!\n<p>After Donald Trump's assassination on July 4, 2027, JD Vance is running for reelection as president of the United States of America. While many consider him a successor to the MAGA movement, his approval ratings are in the tank, with several analysts considering him one of the worst presidents in American history. Many analysts also consider him a huge threat to democracy, with some even going as far as calling him America's version of Hitler. With an opponent as absurd as Billie Joe Armstrong though, this could give Vance a fighting chance at reelection. Will JD Vance pull off a victory despite his several baggages, or will Vance fail to live up to Trump's legacy and charisma?</p>",
            "color_hex": "#ff0000",
            "secondary_color_hex": null,
            "is_active": 1,
            "image_url": "https://nationalconservatism.org/natcon-2-2021/wp-content/uploads/sites/5/2021/08/JD-Vance-2-768x768.jpg",
            "electoral_victory_message": "<h3>Congratulations! You have won the 2028 election.</h3><p>Despite several concerns regarding the future of democracy at the hands of your administration, the American people have spoken and they have chosen to reelect you as president of the United States. Many analysts are skeptical of the election results, but most people believe you won this election fair and square. Many people are starting to worry about the future of this country and what your reelection might mean for democracy as a whole.</p>",
            "electoral_loss_message": "<h3>Sorry! You have lost the 2028 election.</h3><p>After an intense couple of months, you were unable to make your case to the American people and explain why you should be reelected. Despite many concerns regarding the future of democracy, many analysts are considering this one of the most surprising election outcomes in political history. Will the Republican Party move passed the legacy of Trump, or are you planning an epic political comeback in 2032 just like Trump did back in 2024? Only time will tell.</p>",
            "no_electoral_majority_message": "<h3>Congratulations! You have won the 2028 election.</h3><p>In spite of the 269-269 tie in the electoral college, Republicans control a majority of state delegations in the House of Representatives. A lot of liberals are absolutely distraught and outraged that the election came down to such a technicality, but hey, those are the rules!</p>",
            "description_as_running_mate": null,
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 50002,
        "fields": {
            "first_name": "Ron",
            "last_name": "DeSantis",
            "election": 20,
            "party": "Republican",
            "state": "Florida",
            "priority": 1,
            "description": "<p>Put description here</p>",
            "color_hex": "#ff0000",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "https://pyxis.nymag.com/v1/imgs/c9b/7dd/1ca8c5d580fff2808f2c58c73b6f83f9d5-ron-desantis.rsquare.w700.jpg",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": "<p>Ronald DeSantis is a politician serving since 2019 as the 46th governor of Florida. A member of the Republican Party, he served as the U.S. Representative from Florida's 6th congressional district from 2013 to 2018. Despite being a very unpopular governor for moderates, DeSantis appearing on the ticket could encourage Republicans to turn out even harder due to his far-right political views.</p>",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 202,
        "fields": {
            "first_name": "Jill",
            "last_name": "Stein",
            "election": 20,
            "party": "Green",
            "state": "Illinois",
            "priority": 1,
            "description": "'",
            "color_hex": "#02b105",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": null,
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 50004,
        "fields": {
            "first_name": "Jill",
            "last_name": "Stein",
            "election": 20,
            "party": "Green",
            "state": "Illinois",
            "priority": 1,
            "description": "<p>Put description here</p>",
            "color_hex": "#3dac02",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/3/32/Jill_Stein_by_Gage_Skidmore_3.jpg/220px-Jill_Stein_by_Gage_Skidmore_3.jpg",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": "'",
            "candidate_score": 0,
            "running_mate": true
        }
    }
]

campaignTrail_temp.running_mate_json = [
    {
        "model": "campaign_trail.running_mate",
        "pk": 157659,
        "fields": {
            "candidate": 201,
            "running_mate": 50002
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 163112,
        "fields": {
            "candidate": 202,
            "running_mate": 50004
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 137497,
        "fields": {
            "candidate": 200,
            "running_mate": 1002
        }
    }
]

campaignTrail_temp.opponents_default_json = [
    {
        "election": 20,
        "candidates": [
            200,
            201,
            202
        ]
    }
]

campaignTrail_temp.opponents_weighted_json = [
    {
        "election": 20,
        "candidates": [
            200,
            201,
            202
        ]
    }
]

jet_data = {
    "headerColor": "#079217",
    "windowColor": "#ff0000",
    "containerColor": "#000000",
    "innerWindowColor": "#ff0000",
    "bannerImageUrl": "https://i.imgur.com/ldHvMTY.png",
    "backgroundImageUrl": "https://coolbackgrounds.io/images/backgrounds/white/pure-white-background-85a2a7fd.jpg",
    "endingTextColor": "#000000",
    "customQuote": "\"I dont wanna be an American idiot\""
}

//#startcode


corrr = '\n              <h2>THE CAMPAIGN TRAIL</h2><font id="wittyquote" size="4" color="white"><em>"I dont wanna be an American idiot"</em></font>\n            ';


nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#079217";

nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#ff0000";

document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;

$("#game_window")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_window;

$(".container")[0].style.backgroundColor = "#000000";

document.getElementById("header").src = "https://i.imgur.com/ldHvMTY.png";

document.body.background = "https://coolbackgrounds.io/images/backgrounds/white/pure-white-background-85a2a7fd.jpg";

document.head.innerHTML += "<style>#results_container {color:#000000;} .inner_window_w_desc {background-color:#ff0000!important;}</style>";

// Initialise custom music

$("#music_player")[0].children[0].style.display="none"
$("#music_player")[0].children[1].style.display="none"

document.getElementById("modLoadReveal").style.display="none"
document.getElementById("modloaddiv").style.display="none"

musicBox = document.getElementById("music_player")
musicBox.style.display=""

var trackSel;
e = campaignTrail_temp
e.selectedSoundtrack = 0

toTime = (seconds) => {
  var date = new Date(null);
  date.setSeconds(seconds);
  return date.toISOString().substr(11, 8);
}

generateTime = () => {
    // Get the audio element
    var audio = document.getElementById("campaigntrailmusic");

    timeTracker = document.createElement("div-timetrack");
    timeTracker.style = `
      text-align:left;
      border-style:solid;
      border-width:3px;
      height:150px;
      width:200px;
      background-color:#979595;
      float:right;
      padding: 10px;
    `
    $("#trackSelParent")[0].prepend(timeTracker);
    $("#trackSelParent")[0].prepend(document.createElement("br"));

    // Create a new element to display the current position of the audio
    var positionDisplay = document.createElement("gg");
    positionDisplay.id = "position-display";

    // Create a new slider element to change the time
    var timeSlider = document.createElement("input");
    timeSlider.type = "range";
    timeSlider.min = 0;
    timeSlider.max = 1;
    timeSlider.step = 0.001;
    timeSlider.value = 0;
    timeSlider.style.width = "200px";
    timeSlider.id = "time-slider";

    var pausePlay = document.createElement("button");
    pausePlay.id = "position-display";
    pausePlay.innerHTML = "<b>Pause</b>"
    pausePlay.style.width = "100%";


    pausePlay.addEventListener("click", event => {
      event.preventDefault();
      updatePositionDisplay();
      let audio = document.getElementById("campaigntrailmusic");
      if (audio.paused) {
        audio.play();
        event.target.innerHTML = "<b>Pause</b>";
        return;
      }
      audio.pause();
      event.target.innerHTML = "<b>Play</b>";
      return;
    })

    var volumeLabel = document.createElement("gg");
    volumeLabel.id = "volume-label";
    volumeLabel.innerHTML = "<br><b>Volume: </b>"

    var volumeSlider = document.createElement("input");
    volumeSlider.type = "range";
    volumeSlider.min = 0;
    volumeSlider.max = 1;
    volumeSlider.step = 0.001;
    volumeSlider.value = 0;
    volumeSlider.style.width = "200px";
    volumeSlider.id = "volume-slider";

    volumeSlider.value = audio.volume;

    timeTracker.appendChild(pausePlay);
    timeTracker.appendChild(document.createElement("br"));
    timeTracker.appendChild(document.createElement("br"));
    timeTracker.appendChild(positionDisplay);
    timeTracker.appendChild(timeSlider);
    timeTracker.appendChild(volumeLabel);
    timeTracker.appendChild(volumeSlider);

    updatePositionDisplay();

    //for (let i = 0; i < 10; i++)
    //timeTracker.append(document.createElement("br"));


    // Function to update the position display
    function updatePositionDisplay() {
      positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
      timeSlider.value = audio.duration ? audio.currentTime / audio.duration : 0;
    }

    // Function to change the time of the audio
    function changeTime() {
      positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
      audio.currentTime = timeSlider.value * audio.duration;
    }

    updateVolume = event => {
      audio.volume = event.target.value;
    }
    
    // Update the position display and slider every second
    setInterval(updatePositionDisplay, 1000);

    // Listen for changes to the time slider and change the time of the audio
    timeSlider.addEventListener("input", changeTime);
    volumeSlider.addEventListener("input", updateVolume)
}

function newMusicPlayer() {
  trackSel = document.createElement("div-gusic");
  trackSel.id = "trackSelParent"
  let z = `<br><br><br><br><br><br><br><br><br><br><div id='trackSel' style="text-align:left;border-style:solid;border-width:3px;overflow-y: scroll;overflow-x: hidden;height:200px; width:400px;background-color:#979595;float:right;">`
  z += `<b><select id='selectSoundtrack'><option value='`+soundtracks[e.selectedSoundtrack].name+`'>`+soundtracks[e.selectedSoundtrack].name+"</option>"
  for (i in soundtracks) {
    if (soundtracks[e.selectedSoundtrack] != soundtracks[i]) {
      z += `<option value='`+soundtracks[i].name+`'>`+soundtracks[i].name+`</option>`
    }
  }
  z += `</select></b><br><br>`
  // <label><input type="radio" name="option" value="option1">Option 1</label><br>
  for (i in soundtracks[e.selectedSoundtrack].tracklist) {
    let a = soundtracks[e.selectedSoundtrack].tracklist[i]
    let b = `<label><input class="trackSelector" type="radio" name="trackSelector" value="`+i+`">`+a.name+`</label><br>`
    z += b
  }
  z += "</div><br><br>"
  trackSel.innerHTML = z

  // select correct song

  musicBox.appendChild(trackSel);
  Array.from(document.getElementById("trackSel").children).filter(f=>{
    return f.tagName == "LABEL"
  }).map(f=>f.children[0])[0].checked = true

  // set soundtrack changer

  soundtrackSelector = document.getElementById("selectSoundtrack")
  soundtrackSelector.onchange = function() {
    for (i in soundtracks) {
      if (soundtracks[i].name == soundtrackSelector.value) {
        e.selectedSoundtrack = i
        break
      }
    }
    document.getElementById("trackSelParent").remove()
    newMusicPlayer()
  }

  var matches = document.querySelectorAll('.trackSelector');

  for (match in matches) {
    matches[match].onchange = function() {
      audio = $("#campaigntrailmusic")[0];
      audio.src = soundtracks[e.selectedSoundtrack].tracklist[this.value].url
      audio.currentTime = 0
    }
  }

  musicBox.children[2].loop = false
  musicBox.children[2].src = soundtracks[e.selectedSoundtrack].tracklist[0].url

  musicBox.children[2].onended = function() {
    console.log("next track")
    let selected = Number(document.querySelector('input[name="trackSelector"]:checked').value);
    let newSel = clamp(selected+1, soundtracks[e.selectedSoundtrack].tracklist.length-1, 0)
    let buttons = Array.from(document.getElementById("trackSel").children).filter(f=>{
      return f.tagName == "LABEL"
    }).map(f=>f.children[0])
    //let selectedIndex = buttons.map(f=>f.children[0]).map(f=>f.checked)
    buttons[newSel].click()
  }

  for (w = 0; w < 7; w++) {
    document.getElementById("trackSelParent").appendChild(document.createElement("br"))
  }
  
  generateTime();
}

clamp = function(a, max, min, overflow=true) {
  if (overflow) {
    return a > max ? min : a < min ? max : a;
  }
  return a > max ? max : a < min ? min : a;
}


// Track list

soundtracks = {
  0: {
    name: "Green Day Bangers",
    tracklist: [
      {
        "name": "Green Day - American Idiot",
        "url": "https://files.catbox.moe/rasa38.mp3"
      },
      {
        "name": "Green Day - Holiday",
        "url": "https://files.catbox.moe/jcco99.mp3"
      },
      {
        "name": "Green Day - Jesus of Suburbia",
        "url": "https://files.catbox.moe/xy8wcy.mp3"
      },
      {
        "name": "Green Day - Basket Case",
        "url": "https://files.catbox.moe/q9vm2j.mp3"
      },
      {
        "name": "Green Day - 21 Guns",
        "url": "https://files.catbox.moe/uugggb.mp3"
      },
      {
        "name": "Green Day - Nice Guys Finish Last",
        "url": "https://files.catbox.moe/g7vi7z.mp3"
      }
    ]
  }
}

// Set up new music player

newMusicPlayer()
//#endcode

RecReading=true

campaignTrail_temp.election_json = JSON.parse("[{\"model\": \"campaign_trail.election\", \"pk\": 5, \"fields\": {\"year\": 1876, \"summary\": \"<p>The 1876 presidential election season opens with Republican Rutherford Hayes slightly behind Democrat Samuel Tilden as they face off in a high-turnout election. Hayes is the reformist Governor of Ohio, while Tilden is the Governor of New York who has fought heavily against corruption.</p><p>Key issues of this race include reconstruction, tariffs, and corruption, with the shadow of the Grant Administration looming large. Can Hayes secure yet another term of Republican dominance, or can Tilden flip the script? In the real world, this election was heavily contested and brought about the Compromise of 1877, ultimately giving the election to Hayes.</p>\", \"image_url\": \"https://itsastronomical.com/assets/1876/1876.png\", \"winning_electoral_vote_number\": 185, \"advisor_url\": \"https://itsastronomical.com/assets/1876/advisor.png\", \"recommended_reading\": \"<div style='overflow-y:scroll;height:370px;'><h4 style='margin-top: 0.5em;'>1876 Election</h4><p>Library of Congress and US Election Atlas are always great sources to start with</p><a href='https://uselectionatlas.org/RESULTS/national.php?year=1876&f=0' target='_blank'>US Election Atlas - 1876 Presidential General Election Results</a><br><a href='https://guides.loc.gov/presidential-election-1876/' target='_blank'>Library of Congress - 1876 Presidential Election</a><h4>Acceptance Letters</h4><a href='https://www.rbhayes.org/hayes/1876-acceptance-speech/'>Rutherford B. Hayes Presidential Library & Museums - Governor Hayes' 1876 Acceptance Letter</a><br><a href='https://www.loc.gov/resource/rbpe.12804500/?st=text'>Library of Congress - Tilden's 1876 Letter of Acceptance</a><h4>Books</h4><p>I found a lot of the inspiration through one book, given to me by Lurker.</p><p>It really hit all the important notes of the election while explaining the specifics of the campaign itself.</p><a href='https://archive.org/details/byonevotedispute0000holt/mode/2up?view=theater'> Holt, Michael F. - By One Vote: The Disputed Presidential Election of 1876</a><h4>History</h4><p>If you were able to get the 'A Truce, Not a Compromise' ending, then you witnessed the canonical result of the election. Democrats in Congress agreed to allow Hayes to become President in exchange for assurances that federal armies would leave the south (presumably with empty assurances for equal rights in government).</p><br><br><img src='https://uselectionatlas.org/USPRESIDENT/GENERAL/pe1876.png' width='500px'><h4>Thanks</h4><p>Thank you to Yupperdoo for writing much of the in her original state mod, Lurker for playtesting and research help, Martha for her playtesting and general support...<br>...and of course you, the player.<br><a href='https://www.twitch.tv/itsastronomics'>Now Subscribe to my Twitch!</a><br><br><img src='https://itsastronomical.com/assets/miniastro.png' width='100px'></img></p></div>\", \"has_visits\": 0, \"no_electoral_majority_image\": \"/static/images/1896-no-majority.jpg\"}}]");

campaignTrail_temp.candidate_json = JSON.parse("[{\"model\": \"campaign_trail.candidate\", \"pk\": 20, \"fields\": {\"first_name\": \"Rutherford B.\", \"last_name\": \"Hayes\", \"election\": 5, \"party\": \"Republican\", \"state\": \"Ohio\", \"priority\": 1, \"description\": \"<p>Rutherford B. Hayes is the incumbent Governor of Ohio, serving on and off since 1868. Hayes also served in the Union Army during the Civil War, even being brevetted Major General for his service during the Army of the Shenandoah in the Valley Campaigns of 1864. All three times, he was elected Governor of Ohio by narrow margins.</p><p>Although he has experience and a respectable resume, he is not well known outside of Ohio and thus, he must craft a reputation for himself nationwide. He has been noted as a reformer, and has supported Civil Rights legislation for African Americans, overseeing Ohio's ratification of the Fifteenth Amendment. These aspects could perhaps help bolster Republican support and counter Tilden's anti-corruption campaign. Hayes will also have to balance distancing himself from President Grant and the corruption of his administration without completely bolting from some of his more well received ideas.</p>\", \"color_hex\": \"#ED6663\", \"secondary_color_hex\": \"#003893\", \"is_active\": 1, \"image_url\": \"https://itsastronomical.com/assets/1876/rutherford.png\", \"electoral_victory_message\": \"<h3>Congratulations! You have won the 1876 election.</h3><p>Despite a strong challenge from Governor Tilden, you will keep the White House under Republican control. Whether or not you had to make a dirty compromise for a few southern states, neither side doubts your victory.</p><p>Of course, the road ahead is a tough one, as you are faced with cleaning up the corruption and pulling the nation out of this economic slump. Given the circumstances of the election, it is very unlikely you will run for a second term. Depending on how your administration faces these issues, you could leave your successor with a strong economy and a clean government. It seems both the Stalwarts and the Half-Breeds are anxious for the 1880 election.</p>\", \"electoral_loss_message\": \"<h3>Sorry! You have lost the 1876 election.</h3><p>It's hard to say this was unexpected, given Tilden's initial lead in the polls. Despite this, many felt you were capable of turning things around, given how fresh the Civil War is in the minds of many voters. Democrats will still control the House of Representatives, albeit with a reduced margin. At least Republicans will retain the Senate.</p><p>Samuel Tilden will be the first Democrat to be elected President since James Buchanan in 1856. It seems that your political career is over, barring another House of Representatives run in Ohio, or perhaps even the Senate. At least the people of Ohio will remember you fondly.</p>\", \"no_electoral_majority_message\": \"<h3>Sorry! You have lost in a nail-biter.</h3><p>No candidate achieved a majority of the electoral votes, marking the first time this has happened since 1824. Unfortunately for you, the majority of U.S. states have Democratic controlled congressional delegations, and they will cast their votes for you accordingly.</p><p>It is unlikely you will have another chance in 1880. Barring another run for Congress, either from the House or Senate, it seems your political career is over.</p>\", \"description_as_running_mate\": null, \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 21, \"fields\": {\"first_name\": \"Samuel J.\", \"last_name\": \"Tilden\", \"election\": 5, \"party\": \"Democrat\", \"state\": \"New York\", \"priority\": 2, \"description\": \"<p>Samuel Tilden is the incumbent Governor of New York, leading a Democratic sweep of the statewide offices in the 1874 elections. Tilden supported the Union during the Civil War, which will help him blunt attacks from those waving the bloody shirt around, and was a protégé of former President Martin Van Buren, which has helped give experience. </p><p>Noted as a reformer, he has fought against corruption from the Tammany Hall political machine during his tenure as Governor, and had to overcome incredibly strong opposition from ''Honest John'' Kelly, the leader of Tammany Hall in order to secure the nomination. He starts out as the early favorite to win, due to the unpopularity of the Grant Administration and the lack of reputation of Governor Hayes. Tilden must flex his credentials, attack the corruption in the Grant administration, and balance the interests of the North and South.</p>\", \"color_hex\": \"#43658B\", \"secondary_color_hex\": \"#FFB500\", \"is_active\": 1, \"image_url\": \"https://itsastronomical.com/assets/1876/tilden.png\", \"electoral_victory_message\": \"<h3>Congratulations! You have won the 1876 election.</h3><p>Although you were considered the favorite to win, this doesn't take away from what this victory means. While it may have been close, neither side seems to doubt your victory. You will be the first Democrat elected to the White House since James Buchanan in 1856, exactly 20 years ago. Democrats will retain their control over the House of Representatives, whereas the Senate seems to be held by Republicans very narrowly.</p><p>Where you go from here is up to you. You could likely pass much of your reform-minded policies with support from reformist Republicans. You also are expected to end Reconstruction as soon as possible. However, the Republican Senate might make this a challenge for you. If you can pass civil service and other reforms, winning re-election in 1880 will be no trouble at all. Best of luck, President-elect Tilden!</p>\", \"electoral_loss_message\": \"<h3>Sorry! You have lost the 1876 election.</h3><p>Hayes probably stole it.</p><p>Regardless of the outcome this time, you have built a legion of devoted followers who will support anything you do. If you play your cards right, you just might get another shot in four years...</p>\", \"no_electoral_majority_message\": \"<h3>Wow! You have won a true nail-biter.</h3><p>No candidate achieved a majority of the electoral votes, marking the first time this has happened since 1824. Fortunately for you, the majority of U.S. states have Democratic controlled congressional delegations, and they will cast their votes for you accordingly.</p><p>The important thing is that you won. Go about implementing your agenda accordingly, and pay no attention to Democrats and agitators who call for 'compromise' and 'conciliation'.</p>\", \"description_as_running_mate\": null, \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 22, \"fields\": {\"first_name\": \"Peter\", \"last_name\": \"Cooper/Others\", \"election\": 5, \"party\": \"Greenback\", \"state\": \"New York\", \"priority\": 3, \"description\": \"<p>Peter Cooper is the Greenback Party's nominee. It will take an insane amount of spacebarring to get him to victory.</p>\", \"color_hex\": \"#269945\", \"secondary_color_hex\": \"#63eb87\", \"is_active\": 0, \"image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/23/Peter_Cooper_Photograph.jpg/800px-Peter_Cooper_Photograph.jpg\", \"electoral_victory_message\": \"Congratulations!\", \"electoral_loss_message\": \"Better luck next time!\", \"no_electoral_majority_message\": \"Congratulations!\", \"description_as_running_mate\": null, \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 45, \"fields\": {\"first_name\": \"William\", \"last_name\": \"Wheeler\", \"election\": 5, \"party\": \"Republican\", \"state\": \"New York\", \"priority\": 20, \"description\": \"n/a\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"https://itsastronomical.com/assets/1876/wheeler.png\", \"electoral_victory_message\": \"n/a\", \"electoral_loss_message\": \"n/a\", \"no_electoral_majority_message\": \"n/a\", \"description_as_running_mate\": \"<p>William Wheeler is a member of the House of Representative from the state of New York. Being from a populus swing state, he may help bring geographic balance to the ticket giving Hayes an edge in a state that is leaning towards its very own Governor Tilden. Winning New York would practically seal an Electoral College win for Hayes, and would likely surprise Tilden, who has expected to win the Empire State.</p><p>Although his emphasis for compromise on reconstruction may hurt his candidacy in some northern states, perhaps it will give Hayes a boost in others? Wheeler is a safer pick for Vice President, and likely will not offend any major faction of the party, such as the Stalwarts or Half-Breeds.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 47, \"fields\": {\"first_name\": \"Frederick T.\", \"last_name\": \"Frelinghuysen\", \"election\": 5, \"party\": \"Republican\", \"state\": \"New Jersey\", \"priority\": 22, \"description\": \"n/a\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"https://itsastronomical.com/assets/1876/fred.png\", \"electoral_victory_message\": \"n/a\", \"electoral_loss_message\": \"n/a\", \"no_electoral_majority_message\": \"n/a\", \"description_as_running_mate\": \"<p>Frederick T. Frelinghuysen is an incumbent Senator from New Jersey, and a member of the well-known Frelinghuysen family. He is considered a Radical Republican, who has taken strong stances on punishing former Confederates. At the same time, he has allied himself with the Stalwart faction, which may hurt Hayes' image of a reformer.</p> <p>As a Senator from New Jersey, he will certainly give Hayes a much needed boost in a northern state that appears to be favored for Tilden, although his status as a Radical Republican will harm his image in the three Southern States considered in play - Louisiana, Florida, and South Carolina. Choosing Frelinghuysen will certainly draw some battle lines - for better or for worse.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 49, \"fields\": {\"first_name\": \"Thomas A.\", \"last_name\": \"Hendricks\", \"election\": 5, \"party\": \"Democrat\", \"state\": \"Indiana\", \"priority\": 24, \"description\": \"n/a\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"https://itsastronomical.com/assets/1876/hendricks.png\", \"electoral_victory_message\": \"n/a\", \"electoral_loss_message\": \"n/a\", \"no_electoral_majority_message\": \"n/a\", \"description_as_running_mate\": \"<p>Thomas A. Hendricks is the outgoing governor of Indiana. His presence on the ticket alone will certainly help in the crucial swing state of Indiana. While much of his agenda has been blocked by the Republican-controlled legislature, Hendricks has been noted as a reformer. He also has served as a Senator and Representative, giving him plenty of experience. Hendricks is also  a well known name across the country - for example, when the 1872 Liberal Republican nominee, Horace Greely died, 42 of his 63 pledged electoral votes went to Hendricks.</p><p>However, Hendricks is is far more sympathetic to the Greenback cause, which will help or hurt the ticket depending on the state. Regardless, Hendricks is a very sensible choice - a popular Governor with a clean record from a crucial swing state. Party leaders are expecting Tilden pick Hendricks, given his strengths and lack of real weaknesses.\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 51, \"fields\": {\"first_name\": \"Winfield Scott\", \"last_name\": \"Hancock\", \"election\": 5, \"party\": \"Democrat\", \"state\": \"Pennsylvania\", \"priority\": 26, \"description\": \"n/a\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"https://itsastronomical.com/assets/1876/hancock.png\", \"electoral_victory_message\": \"n/a\", \"electoral_loss_message\": \"n/a\", \"no_electoral_majority_message\": \"n/a\", \"description_as_running_mate\": \"<p>Winfield Scott Hancock is the Major General and Civil War hero from Pennsylvania, who also sought the Democratic nomination this year. Although he has never held public office, his Union general status can help deflect attacks from those waving the bloody shirt. His most notable service during the Civil War was as a commander at the Battle of Gettysburg. Hancock was also involved in Reconstruction, although he certainly favored the white Democrats in the military district he governed.</p><p>Hancock will help in Pennsylvania, and even southern Democrats have much sentiment towards him. He also has not taken a stance on the money issue. Party leaders would prefer someone such as Hendricks, but if Tilden is looking to win Pennsylvania, having the convention select Hancock will certainly help.</p>\", \"candidate_score\": 0.0}}]");
campaignTrail_temp.running_mate_json = JSON.parse("[{\"model\": \"campaign_trail.running_mate\", \"pk\": 22, \"fields\": {\"candidate\": 20, \"running_mate\": 45}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 26, \"fields\": {\"candidate\": 21, \"running_mate\": 49}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 30, \"fields\": {\"candidate\": 21, \"running_mate\": 51}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 24, \"fields\": {\"candidate\": 20, \"running_mate\": 47}}]");
campaignTrail_temp.opponents_default_json = JSON.parse("[{\"election\": 5, \"candidates\": [22, 20, 21]}]");
campaignTrail_temp.opponents_weighted_json = JSON.parse("[{\"election\": 5, \"candidates\": [21, 20, 22]}]");
campaignTrail_temp.global_parameter_json = JSON.parse("[{\"model\": \"campaign_trail.global_parameter\", \"pk\": 1, \"fields\": {\"vote_variable\": 1.125, \"max_swing\": 0.12, \"start_point\": 0.94, \"candidate_issue_weight\": 10.0, \"running_mate_issue_weight\": 3.0, \"issue_stance_1_max\": -0.71, \"issue_stance_2_max\": -0.3, \"issue_stance_3_max\": -0.125, \"issue_stance_4_max\": 0.125, \"issue_stance_5_max\": 0.3, \"issue_stance_6_max\": 0.71, \"global_variance\": 0.01, \"state_variance\": 0.005, \"question_count\": 25, \"default_map_color_hex\": \"#C9C9C9\", \"no_state_map_color_hex\": \"#999999\"}}]");
campaignTrail_temp.temp_election_list = [{"id": 5, "year": 1876, "is_premium": 0, "display_year": "1876"}];
campaignTrail_temp.credits = 'ItsAstronomical.<br>Some questions and answers originally written by yupperdoo97, Lurker helped with extra research, Danxv helped with endings, and Nina coded some pre-game options';

corrr=`\n<h2>THE CAMPAIGN TRAIL</h2>`

HistHexcolour=["#ED6663","#43658B","#269945","#000"];
        HistName=["Rutherford B. Hayes","Samuel J. Tilden","Peter Cooper", "Others"];
        HistEV=[185,184,0,0];
        HistPV=["4,034,142","4,286,808","83,726","13,983"];
        HistPVP=["47.92%","50.92%","0.99%","0.17%"];

const gameThemes = {
    "Classic" : function() { 
        document.getElementById("header").src = "https://www.newcampaigntrail.com/static/images/banner_classic.png";
        document.body.style.backgroundColor = "#bfe6ff";
        document.body.background = "";
        $(".container")[0].style.backgroundColor = "#fff";
        nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#700016";
        document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;
        nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#e8fbff";
        $("#game_window")[0].style.backgroundColor = "#bfe6ff";
        $(".footer")[0].style.color = "#000";
    },
    "Congressional Compromise" : function() {
        document.getElementById("header").src = "https://itsastronomical.com/assets/1876/banner.png"
        document.body.style.backgroundColor = "#727C96";
        document.body.background = "";
        $(".container")[0].style.backgroundColor = "#B32E45";
        nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#090B52";
        document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;
        nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#1561A3";
        $("#game_window")[0].style.backgroundColor = "#c29fa5";
        $(".footer")[0].style.color = "#000";
        document.body.background = "https://itsastronomical.com/assets/1876/1876Wallpaper.png"
        
    }
}

// Replace old theme picker
const themePicker = document.getElementById("themePicker");
const newThemePicker = document.createElement("select");
newThemePicker.id = "themePicker";
newThemePicker.addEventListener("change", gameThemePicked);
let newInnerHTML = "";
for(theme in gameThemes) {
    newInnerHTML += `<option value="${theme}">${theme}</option>`;
}
newThemePicker.innerHTML = newInnerHTML;
themePicker.replaceWith(newThemePicker);

function gameThemePicked() {
    gameThemes[newThemePicker.value]();
}

gameThemePicked();

campaignTrail_temp.modBoxTheme = {
    "header_color": "#355782",
    "header_text_color": "#ffffff",
    "description_text_color": "#ffffff",
    "description_background_color": "#b87575",
    "main_color": "#b87575",
    "secondary_color": "#355782",
    "ui_text_color": "#FFFFFF"
}

campaignTrail_temp.achievements = {
    "A Truce, Not A Compromise" : {
        "image" : "https://itsastronomical.com/assets/1876/ach/truce.png",
        "description" : "Witness the canon results as either candidate.",
        "cannotBeCheated" : true
    },
    "Easy Math" : {
        "image" : "https://itsastronomical.com/assets/1876/ach/math.png",
        "description" : "As either candidate, win the election without Florida, Louisiana, or South Carolina.",
        "cannotBeCheated" : true
    },
     "A Clear Mandate" : {
        "image" : "https://itsastronomical.com/assets/1876/ach/winner.png",
        "description" : "As Hayes, win a majority of the popular vote.",
      "cannotBeCheated" : true
   },
   "Tilden or Blood" : {
    "image" : "https://itsastronomical.com/assets/1876/ach/blood.png",
    "description" : "As Tilden, refuse to agree to an electoral commission while still losing narrowly.",
    "cannotBeCheated" : true
    }
  }


campaignTrail_temp.bunnyhop = true;
function addColor() {
        var difficultyDiv = document.getElementById("difficulty_level");
        if (difficultyDiv && !document.getElementById("bunnyhopDropdown")) {
            var questionCounter = ["25 (Randomized Questions)", "30 (Expanded)", "35 (Full)"];
            var questions = [25, 30, 35];
            var dropdown = document.createElement("select");
            dropdown.id = "bunnyhopDropdown";

            for (var i = 0; i < questions.length; i++) {
                var opt = document.createElement("option");
                opt.text = questionCounter[i];
                if (questionCounter[i] === "25 (Randomized Questions)") {
                    opt.selected = true;
                }
                opt.value = questions[i];
                dropdown.options.add(opt);
            }

            var form = document.createElement("form");
            form.name = "bunnyhopForm";
            var header = document.createElement("h3");
            header.textContent = "Select Question Count:";
            form.appendChild(header);
            form.appendChild(dropdown);
            difficultyDiv.appendChild(form);

            dropdown.addEventListener("change", function() {

                if (this.value == 25){
                    campaignTrail_temp.bunnyhop = true;
                }
                else{
                    campaignTrail_temp.bunnyhop = false;
                }
                campaignTrail_temp.global_parameter_json[0].fields.question_count = this.value;
            });

            var colourForm = document.createElement("form");
            colourForm.name = "colour_selection";
            var colourHeader = document.createElement("h3");
            colourHeader.textContent = "Enable alternate colour scheme?";
            colourForm.appendChild(colourHeader);
            var colourCheckbox = document.createElement("input");
            colourCheckbox.type = "checkbox";
            colourCheckbox.id = "colour";
            colourCheckbox.checked = false;
            colourForm.appendChild(colourCheckbox);
            difficultyDiv.appendChild(colourForm);

            colourCheckbox.addEventListener("change", function() {
                if (this.checked){
                    campaignTrail_temp.candidate_json[0].fields.color_hex = '#003893'
                    campaignTrail_temp.candidate_json[0].fields.secondary_color_hex = '#ED6663'
                    campaignTrail_temp.candidate_json[1].fields.color_hex = '#FFB500'
                    campaignTrail_temp.candidate_json[1].fields.secondary_color_hex = '#43658B'
                }
                else{
                    
                campaignTrail_temp.candidate_json[0].fields.color_hex = '#ED6663'
                campaignTrail_temp.candidate_json[0].fields.secondary_color_hex = '#003893'
                campaignTrail_temp.candidate_json[1].fields.color_hex = '#43658B'
                campaignTrail_temp.candidate_json[1].fields.secondary_color_hex = '#FFB500'
                }
            });

            var difficultyForm = document.querySelector('form[name="difficulty_level_selection"]');
            var difficultyHeader = difficultyForm.querySelector('h3');
            difficultyHeader.textContent = "Select campaign difficulty:";

            var forms = document.querySelectorAll("#difficulty_level form");
            for (var i = 0; i < forms.length; i++) {
              forms[i].style.display = "inline-block";
              forms[i].style.paddingLeft = "10px"; // adjust the value as needed
              forms[i].style.paddingRight = "10px"; // adjust the value as needed
            }

        }
}
// the wrapper here is the same that makes sure your music player doesn't exist twice basically
if(!campaignTrail_temp.observer){

    campaignTrail_temp.observer = true

    // Define the MutationObserver
    let masterObserver = new MutationObserver(masterFunction);
    function masterFunction() {
        masterObserver.disconnect();

        addColor();

        masterObserver.observe(document.body, { childList: true, subtree: true });
    }

    // Start observing the document with the master observer
    masterObserver.observe(document.body, { childList: true, subtree: true });
}